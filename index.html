<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Crafters-Final</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="site-info">elevated</div>
        <div class="site-menu">
            <div class="menu-item">Home</div>
            <div class="menu-item">About</div>
            <div class="menu-item">Pricing</div>
        </div>
    </div>

    <div class="container">
        <p class="title">reach the fullest</p>
        <div class="hero-img">
            <img src="assets/drone-main.png" alt="Drone">
        </div>
    </div>

    <div class="info">
        <p class="info-text">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
    </div>
    <div class="buy-now-cta">
        <button>Buy Now</button>
    </div>
    <div class="prev-imgs">
        <div class="prev-img prev-1"></div>
        <div class="prev-img prev-2"></div>
        <div class="prev-img prev-3"></div>
    </div>
    <div class="marquee">
        <span>How we work try now How we work try now How we work try now</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
        // Wrap each letter in a span for animation
        let textWrapper = document.querySelector('.container p.title');
        if (textWrapper) {
            textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");
        } else {
            console.error("Title element not found!");
        }

        // Animate the container (drone and text together)
        TweenMax.to(".container", 2, {
            top: "50vh",
            ease: "Expo.easeInOut",
            delay: 0.5
        });

        TweenMax.to(".container", 2, {
            scale: 1,
            top: "25vh",
            ease: "Expo.easeInOut",
            delay: 3,
            onComplete: function() {
                console.log("Container animation complete, starting text animation");
                anime.timeline({
                    targets: '.title .letter',
                    translateY: [-200, 0], // Slide in from above
                    opacity: [0, 1],       // Fade in
                    easing: "easeOutExpo",
                    duration: 1500,
                    delay: (el, i) => 50 * i
                });
            }
        });

        // Animate navbar
        TweenMax.staggerFrom(".navbar > div", 1.5, {
            opacity: 0,
            y: -100,
            ease: "Expo.easeInOut",
            delay: 2.5
        }, 0.08);

        TweenMax.staggerFrom(".site-menu > div", 1, {
            opacity: 0,
            y: -100,
            ease: "Expo.easeInOut",
            delay: 2.5
        }, 0.2);

        // Animate other elements
        TweenMax.staggerFrom(".info, .buy-now-cta, .prev-imgs > div, .marquee", 1, {
            opacity: 0,
            y: -100,
            ease: "Power2.easeInOut",
            delay: 4
        }, 0.1);
    </script>
</body>
</html>