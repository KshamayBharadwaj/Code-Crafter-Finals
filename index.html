<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Crafters-Final</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="site-info">elevated</div>
        <div class="site-menu">
            <div class="menu-item">Home</div>
            <div class="menu-item">About</div>
            <div class="menu-item">Pricing</div>
        </div>
    </div>

    <div class="container">
        <p class="title">
            <span class="word">reach</span>
            <span class="word">the</span>
            <span class="word">fullest</span>
        </p>
        <div class="hero-img">
            <img src="assets/drone-main.png" alt="Drone">
        </div>
    </div>

    <div class="info">
        <p class="info-text">Experience unparalleled aerial photography with our next-generation drone. Featuring advanced stabilization technology, seamless controls, and impressive flight time for both professionals and enthusiasts.</p>
    </div>
    <div class="buy-now-cta">
        <button>Buy Now</button>
    </div>
    <div class="prev-imgs">
        <div class="prev-img prev-1"></div>
        <div class="prev-img prev-2"></div>
        <div class="prev-img prev-3"></div>
    </div>
    <div class="marquee">
        <span>How we work try now How we work try now How we work try now</span>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
        // Wrap each letter in spans for animation
        let words = document.querySelectorAll('.title .word');
        
        if (words.length > 0) {
            words.forEach(word => {
                word.innerHTML = word.textContent.replace(/\S/g, "<span class='letter'>$&</span>");
            });
        } else {
            console.error("Title words not found!");
        }

        // Animation timeline
        let mainTimeline = () => {
            // 1. First move the container into view
            TweenMax.to(".container", 2, {
                top: "50vh",
                ease: "Expo.easeInOut",
                delay: 0.5
            });

            // 2. Then scale it and position it higher on the page
            TweenMax.to(".container", 2, {
                scale: 1,
                top: "25vh",
                ease: "Expo.easeInOut",
                delay: 3,
                onComplete: startTextAnimation
            });

            // 3. Animate navbar elements
            TweenMax.staggerFrom(".navbar > div", 1.5, {
                opacity: 0,
                y: -100,
                ease: "Expo.easeInOut",
                delay: 2.5
            }, 0.08);

            TweenMax.staggerFrom(".site-menu > div", 1, {
                opacity: 0,
                y: -100,
                ease: "Expo.easeInOut",
                delay: 2.5
            }, 0.2);

            // 4. Animate other elements
            TweenMax.staggerFrom(".info, .buy-now-cta, .prev-imgs > div, .marquee", 1, {
                opacity: 0,
                y: -100,
                ease: "Power2.easeInOut",
                delay: 4
            }, 0.1);
        };

        function startTextAnimation() {
            console.log("Container animation complete, starting text animation");
            
            // Create a more dramatic text reveal animation
            anime.timeline({
                easing: "easeOutExpo"
            })
            .add({
                targets: '.letter',
                scale: [0, 1],
                opacity: [0, 0.9],
                translateZ: 0,
                duration: 1500,
                delay: (el, i) => 70 * i
            })
            .add({
                targets: '.hero-img',
                scale: [0.9, 1],
                opacity: [0.8, 1],
                translateZ: 0,
                duration: 1000,
                easing: "easeOutElastic(1, .8)"
            }, '-=1000'); // Overlap with text animation

            // Enhanced floating animation
            TweenMax.to(".hero-img", 1.5, {
                y: -15,
                repeat: -1,
                yoyo: true,
                ease: "Power1.easeInOut"
            });
            
            // Add subtle rotation to drone
            TweenMax.to(".hero-img", 4, {
                rotationZ: 3,
                repeat: -1,
                yoyo: true,
                ease: "Power0.easeNone"
            });
        }

        // Start the animation sequence
        window.addEventListener('DOMContentLoaded', mainTimeline);
    </script>
</body>
</html>
